<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CreamCloud Café</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body onload="initApp()">

<div id="loginPage" class="login-container">
  <div class="login-card">
    <div class="login-header">
      <i class="fas fa-mug-hot"></i>
      <h1>CreamCloud</h1>
    </div>
    <p class="subtitle">Café Management System</p>

    <div class="role-info">
      <div class="role-row"><span>Admin</span> <small>Full Access</small></div>
      <div class="role-row"><span>Purchasing</span> <small>Supplies</small></div>
      <div class="role-row"><span>Delivery</span> <small>Orders</small></div>
      <div class="role-row"><span>Inventory</span> <small>Stocks</small></div>
    </div>

    <input id="loginUser" placeholder="Username (e.g. rajie)">
    <input id="loginPass" type="password" placeholder="Password (123)">
    <button class="btn-login" onclick="login()">Sign In</button>

    <p class="demo-note">
      Users: <b>cherry</b> (admin), <b>rajie</b> (purchasing), <br>
      <b>janex</b> (delivery), <b>rhaa</b> (inventory).
    </p>
  </div>
</div>

<div id="app" class="app-container" style="display:none">

  <aside class="sidebar">
    <div class="brand">
      <i class="fas fa-coffee"></i> <span>CreamCloud</span>
    </div>

    <nav class="nav-menu">
      <a class="nav-link active" onclick="openPage('dashboard')">
        <i class="fas fa-th-large"></i> Dashboard
      </a>
      
      <a class="nav-link hidden" id="navUsers" onclick="openPage('users')">
        <i class="fas fa-users-cog"></i> Users
      </a>

      <a class="nav-link" id="navPurchasing" onclick="openPage('purchasing')">
        <i class="fas fa-shopping-basket"></i> Purchasing
      </a>
      <a class="nav-link" id="navDelivery" onclick="openPage('delivery')">
        <i class="fas fa-truck"></i> Delivery
      </a>
      <a class="nav-link" id="navInventory" onclick="openPage('inventory')">
        <i class="fas fa-boxes"></i> Inventory
      </a>
      <a class="nav-link" onclick="openPage('reports')">
        <i class="fas fa-chart-pie"></i> Reports
      </a>
      <a class="nav-link" onclick="openPage('audit')">
        <i class="fas fa-list-alt"></i> Audit Logs
      </a>
    </nav>

    <button class="btn-logout" onclick="logout()">
      <i class="fas fa-sign-out-alt"></i> Logout
    </button>
  </aside>

  <main class="content-area">

    <section id="dashboard" class="page">
      <h2 class="page-title">Dashboard</h2>
      
      <div class="stats-grid">
        <div class="stat-card stat-orange" onclick="openPage('purchasing')">
          <div class="stat-icon"><i class="fas fa-shopping-cart"></i></div>
          <div class="stat-info"><h3>Purchases</h3><span id="dPurch">0</span></div>
        </div>
        <div class="stat-card stat-blue" onclick="openPage('delivery')">
          <div class="stat-icon"><i class="fas fa-truck"></i></div>
          <div class="stat-info"><h3>Deliveries</h3><span id="dDel">0</span></div>
        </div>
        <div class="stat-card stat-green" onclick="openPage('inventory')">
          <div class="stat-icon"><i class="fas fa-boxes"></i></div>
          <div class="stat-info"><h3>Inventory</h3><span id="dInv">0</span></div>
        </div>
        <div class="stat-card stat-red" onclick="openPage('inventory')">
          <div class="stat-icon"><i class="fas fa-exclamation-triangle"></i></div>
          <div class="stat-info"><h3>Low Stock</h3><span id="dLow">0</span></div>
        </div>
      </div>

      <div class="card">
        <div class="form-header">Recent Activity</div>
        <table class="simple-table"><tbody id="recentActivity"></tbody></table>
      </div>
    </section>

    <section id="users" class="page">
      <h2 class="page-title">User Management</h2>
      <div class="card">
        <div class="form-header">Add New User</div>
        <div class="form-section">
          <div class="input-group">
            <input id="uName" placeholder="Username">
            <input id="uPass" placeholder="Password">
            <select id="uRole">
              <option value="admin">Admin</option>
              <option value="purchasing">Purchasing</option>
              <option value="delivery">Delivery</option>
              <option value="inventory">Inventory</option>
            </select>
            <button class="btn-action" onclick="addUser()">Add User</button>
          </div>
        </div>
      </div>
      <div class="card">
        <table class="data-table">
          <thead><tr><th>Username</th><th>Password</th><th>Role</th><th class="action-cell">Remove</th></tr></thead>
          <tbody id="usersTable"></tbody>
        </table>
      </div>
    </section>

    <section id="purchasing" class="page">
      <h2 class="page-title">Purchasing</h2>
      <div class="card">
        <div class="form-header">Create Order</div>
        <div class="form-section">
          <div class="input-group">
            <input id="pItem" placeholder="Item Name">
            <input id="pQty" type="number" placeholder="Qty">
            <input id="pSupplier" placeholder="Supplier">
            <button class="btn-action" onclick="addPurchase()">Add</button>
          </div>
        </div>
      </div>
      <div class="card">
        <table class="data-table">
          <thead><tr><th>Item</th><th>Qty</th><th>Supplier</th><th>Status</th><th class="action-cell">Actions</th></tr></thead>
          <tbody id="purchaseTable"></tbody>
        </table>
      </div>
    </section>

    <section id="delivery" class="page">
      <h2 class="page-title">Delivery</h2>
      <div class="card">
        <div class="form-header">Schedule Delivery</div>
        <div class="form-section">
          <div class="input-group">
            <input id="dCustomer" placeholder="Customer">
            <select id="dItem">
              <option value="">Loading Menu...</option>
            </select>
            <input id="dDriver" placeholder="Driver">
            <button class="btn-action" onclick="scheduleDelivery()">Schedule</button>
          </div>
        </div>
      </div>
      <div class="card">
        <table class="data-table">
          <thead><tr><th>Customer</th><th>Item</th><th>Driver</th><th>Status</th><th class="action-cell">Actions</th></tr></thead>
          <tbody id="deliveryTable"></tbody>
        </table>
      </div>
    </section>

    <section id="inventory" class="page">
      <h2 class="page-title">Inventory</h2>
      <div class="card">
        <table class="data-table">
          <thead><tr><th>Item</th><th>Qty</th><th class="action-cell">Edit Stock</th></tr></thead>
          <tbody id="inventoryTable"></tbody>
        </table>
      </div>
    </section>

    <section id="reports" class="page">
      <h2 class="page-title">Reports</h2>
      <div class="stats-grid">
        <div class="card">
          <div class="form-header">Purchasing</div>
          <div class="report-row"><span>Total</span><b id="rPurch">0</b></div>
          <div class="report-row"><span>Approved</span><b id="rApproved">0</b></div>
          <div class="report-row"><span>Pending</span><b id="rPending">0</b></div>
          <div class="report-row"><span>Rejected</span><b id="rRejected">0</b></div>
        </div>
        <div class="card">
          <div class="form-header">Delivery</div>
          <div class="report-row"><span>Total</span><b id="rDel">0</b></div>
          <div class="report-row"><span>In Transit</span><b id="rTransit">0</b></div>
          <div class="report-row"><span>Delivered</span><b id="rDelivered">0</b></div>
        </div>
      </div>
    </section>

    <section id="audit" class="page">
      <h2 class="page-title">Audit Log</h2>
      <div class="card">
        <table class="simple-table"><tbody id="auditTable"></tbody></table>
      </div>
    </section>

  </main>
</div>

<script src="script.js"></script>
</body>
</html>